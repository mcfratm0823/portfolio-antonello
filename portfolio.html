<!DOCTYPE html>
<html lang="it">
<head>
    <script src="https://www.googletagmanager.com/gtag/js?id=G-Q9WNHZP2XG" async></script>
    <script>
        function gtag() {
            dataLayer.push(arguments)
        }
        window.dataLayer = window.dataLayer || [],
        gtag("js", new Date),
        gtag("config", "G-Q9WNHZP2XG")
    </script>
    <meta charset="UTF-8">
    <meta content="width=device-width,initial-scale=1" name="viewport">
    <title>Portfolio - ANTONELLO GUARNIERI ® VISUAL DESIGNER</title>
    <meta name="description" content="Progetti selezionati di web design e visual identity. Cafè 124, Curasept, Mediaset Infinity, Generali A4G. Digital experience e project management.">
    <meta content="notranslate" name="google">
    <link href="https://silencio.es/" rel="canonical">
    <meta content="en_GB" property="og:locale">
    <meta content="website" property="og:type">
    <meta content="Portfolio - ANTONELLO GUARNIERI ® VISUAL DESIGNER" property="og:title">
    <meta content="Raccolta dei lavori di design digitale, interfacce e identità visive." property="og:description">
    <link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
    <link href="/site.webmanifest" rel="manifest">
    <link href="/safari-pinned-tab.svg" rel="mask-icon" color="#dbdad9">
    <meta content="#dbdad9" name="msapplication-TileColor">
    <meta content="#dbdad9" name="theme-color">
    
    <!-- Preload critical fonts with highest priority -->
    <link rel="preload" href="./fonts/PPNeueMontreal-Medium.woff2" as="font" type="font/woff2" crossorigin fetchpriority="high">
    <link rel="preload" href="./fonts/PPNeueMontreal-Bold.woff2" as="font" type="font/woff2" crossorigin fetchpriority="high">
    <link rel="preload" href="./fonts/PPNeueMontreal-Regular.woff2" as="font" type="font/woff2" crossorigin>
    <!-- Font NeueHaas rimosso - non utilizzato in portfolio -->
    
    <!-- Critical CSS inline to prevent CLS -->
    <style>
        /* Critical font-face declarations for immediate loading */
        @font-face {
            font-family: Neue;
            src: url(./fonts/PPNeueMontreal-Medium.woff2) format("woff2");
            font-weight: 500;
            font-style: normal;
            font-display: swap;
        }
        
        @font-face {
            font-family: Neue;
            src: url(./fonts/PPNeueMontreal-Bold.woff2) format("woff2");
            font-weight: 700;
            font-style: normal;
            font-display: swap;
        }
        
        @font-face {
            font-family: Neue;
            src: url(./fonts/PPNeueMontreal-Regular.woff2) format("woff2");
            font-weight: 400;
            font-style: normal;
            font-display: swap;
        }
        
        /* Critical CLS fixes */
        body { 
            margin: 0; 
            overflow-x: hidden;
            font-family: Neue, sans-serif;
        }
        
        /* Stabilize text during font load */
        h1, h2, h3, p { 
            font-synthesis: none;
            text-rendering: optimizeLegibility;
            line-height: 1.2;
            font-family: Neue, sans-serif;
        }
        
        /* Prevent layout shift on images */
        img {
            max-width: 100%;
            height: auto;
            display: block;
        }
        
        /* Contain animations */
        .project-card { contain: layout; }
        
        /* Font loading strategy per portfolio */
        #portfolio-title,
        .filter-item {
            font-family: Neue, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        
        /* CRITICAL: Prevent FOUT by hiding text initially */
        #portfolio-title,
        .filter-item,
        .project-card h3,
        #footer p {
            opacity: 0;
            transition: opacity 0.3s ease-out;
        }
        
        /* Show content when fonts are ready or after timeout */
        .fonts-loaded #portfolio-title,
        .fonts-loaded .filter-item,
        .fonts-loaded .project-card h3,
        .fonts-loaded #footer p {
            opacity: 1;
        }
        
        #projects-stack { contain: layout style; }
    </style>
    
    <link href="./css/global-cursor.css" rel="stylesheet">
    <link href="./utils/imageLoader.css" rel="stylesheet">
    <link href="./css/portfolio.css" rel="stylesheet">
    <link href="./css/portfolio-links.css" rel="stylesheet">
    <script>
        // Data automatica
        document.addEventListener('DOMContentLoaded', function() {
            const dateElement = document.getElementById('current-date');
            if (dateElement) {
                const today = new Date();
                const day = String(today.getDate()).padStart(2, '0');
                const month = String(today.getMonth() + 1).padStart(2, '0');
                const year = String(today.getFullYear()).slice(-2);
                dateElement.textContent = `${day}/${month}/${year}`;
            }
        });
    </script>
    <meta name="google" value="notranslate">
    
    <!-- Security: DOMPurify per sanitizzazione HTML (caricato via CDN) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.6/purify.min.js" integrity="sha512-H+rglffZ6f5gF7UJgvH4Naa+fGCgjrHKMgoFOGmcPTRwR6oILo5R+gtzNrpDp7iMV3udbymBVjkeZGNz1Em4rQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <!-- SafeHTML integrato nel bundle JS - non serve script separato -->
</head>
<body>
    <!-- Custom Cursor will be created dynamically by global-cursor.js -->
    <!-- Removed static HTML cursor to prevent initialization issues -->
    
    <!-- Form nascosto per Netlify Forms -->
    <form name="contact-menu" method="POST" data-netlify="true" netlify-honeypot="bot-field" style="display: none;">
        <input type="text" name="nome" />
        <input type="text" name="cognome" />
        <input type="email" name="email" />
        <textarea name="messaggio"></textarea>
    </form>

    <!-- Main Content -->
    <main id="main-content">
        
        <!-- Left Side: Large Title -->
        <section id="left-section">
            <div id="main-title">
                <h1 id="portfolio-title">SFOGLIA I<br>LAVORI</h1>
            </div>
            
            <!-- Filtri lavori - Always visible on the right -->
            <div id="filters">
                <!-- I filtri verranno caricati dal CMS -->
            </div>
            
        </section>

        <!-- Right Side: Projects Gallery -->
        <section id="right-section">
            
            <!-- Projects Stack -->
            <div id="projects-stack">
                <div class="projects-wrapper" id="projects-container">
                    <!-- Projects will be loaded here -->
                    <div id="loading-message">
                        <p>Caricamento progetti...</p>
                    </div>
                </div>
            </div>
            
        </section>
        
    </main>

    <!-- Footer -->
    <footer id="footer">
        <div id="footer-content">
            <div id="footer-info">
                <p>DESIGNER DIGITALE: DISEGNO INTERFACCE,<br>
                IDENTITÀ E SOLUZIONI VISIVE PER<br>
                BRAND CORAGGIOSI FUORI DAGLI SCHEMI</p>
            </div>
            <div id="contact-info">
                <p>antonelloguarnieri6@gmail.com</p>
                <p>© 2024 ANTONELLO GUARNIERI</p>
            </div>
        </div>
    </footer>

    <!-- GSAP for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- Font handler per prevenire FOUT -->
    <script src="./js/portfolio-font-handler.js"></script>
    
    <!-- Vite entry points - componenti necessari per portfolio -->
    <script type="module" src="./js/main.js"></script>
    <script type="module" src="./js/navbar.js"></script>
    <script type="module" src="./js/global-cursor.js"></script>
    <script type="module" src="./js/portfolio.js"></script>
    
    <!-- Fallback per browser molto vecchi -->
    <noscript>
        <p style="text-align: center; padding: 50px;">JavaScript è necessario per visualizzare i progetti.</p>
    </noscript>
</body>
</html>